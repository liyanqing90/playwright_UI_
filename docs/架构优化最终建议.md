# æ¶æ„ä¼˜åŒ–æœ€ç»ˆå»ºè®®

## ğŸ“Š é¡¹ç›®æ€»è§ˆä»ªè¡¨æ¿

### ğŸ¯ é¡¹ç›®çŠ¶æ€æ¦‚è§ˆ
| æŒ‡æ ‡ | å½“å‰çŠ¶æ€ | ç›®æ ‡ | è¿›åº¦ |
|------|---------|------|------|
| **æ€»ä½“è¿›åº¦** | 65% | 100% | ğŸ”„ è¿›è¡Œä¸­ |
| **å½“å‰é˜¶æ®µ** | ç¬¬äºŒé˜¶æ®µå®Œæˆ | ç¬¬å››é˜¶æ®µ | é…ç½®é©±åŠ¨æ¶æ„ |
| **å›¢é˜Ÿå‚ä¸åº¦** | 8/10äºº | 10/10äºº | 80% |
| **é£é™©ç­‰çº§** | ğŸŸ¡ ä¸­ç­‰ | ğŸŸ¢ ä½ | éœ€å…³æ³¨ |
| **é¢„è®¡å®Œæˆ** | 2024-04-15 | 2024-04-15 | æŒ‰è®¡åˆ’ |

### ğŸ“ˆ å…³é”®æŒ‡æ ‡è¶‹åŠ¿
```
ä»£ç è´¨é‡æ”¹å–„:     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 60% â†—ï¸
æ€§èƒ½æå‡:         [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘] 40% â†—ï¸
å›¢é˜Ÿæ»¡æ„åº¦:       [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘] 50% â†—ï¸
æµ‹è¯•è¦†ç›–ç‡:       [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 82% â†—ï¸
```

### âš¡ å¿«é€Ÿå¯¼èˆª
- [å½“å‰ä»»åŠ¡](#ç¬¬ä¸€é˜¶æ®µä¾èµ–æ³¨å…¥åŸºç¡€è®¾æ–½2-3å‘¨) | [é£é™©ç®¡ç†](#é£é™©ç®¡ç†) | [æˆåŠŸæ ‡å‡†](#æˆåŠŸæ ‡å‡†)
- [å®æ–½æ£€æŸ¥æ¸…å•](#a-ä»£ç è¿ç§»æ£€æŸ¥æ¸…å•) | [å›¢é˜Ÿåä½œ](#b-å›¢é˜Ÿåä½œæŒ‡å—) | [æ•…éšœæ’é™¤](#e-æ•…éšœæ’é™¤æŒ‡å—)

---

## æ¦‚è¿°

æœ¬æ–‡æ¡£åŸºäºå½“å‰é¡¹ç›®æ¶æ„æ·±åº¦åˆ†æï¼Œé’ˆå¯¹å°å›¢é˜Ÿè§„æ¨¡ç‰¹ç‚¹ï¼Œæå‡ºå®ç”¨ä¸”å…ˆè¿›çš„æ¶æ„ä¼˜åŒ–æ–¹æ¡ˆã€‚æ ¸å¿ƒç†å¿µæ˜¯åœ¨ä¿æŒç³»ç»Ÿç¨³å®šæ€§çš„å‰æä¸‹ï¼Œé€šè¿‡æ¸è¿›å¼é‡æ„é€æ­¥æå‡æ¶æ„è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚

## å½“å‰æ¶æ„åˆ†æ

### é¡¹ç›®ç‰¹ç‚¹
- åŸºäºPlaywrightçš„UIè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶
- **å¤šå±‚æ¬¡Mixinç»§æ‰¿**ï¼š`BasePage`ç»§æ‰¿äº†11ä¸ªMixinç±»ï¼ŒåŒ…æ‹¬å…ƒç´ æ“ä½œã€ç­‰å¾…æ“ä½œã€å¯¼èˆªæ“ä½œç­‰
- **å‘½ä»¤æ¨¡å¼å®ç°**ï¼šé¡¹ç›®ä¸­å­˜åœ¨å®Œæ•´çš„commandsç›®å½•ç»“æ„
- **è£…é¥°å™¨æ¨¡å¼**ï¼šä½¿ç”¨äº†`handle_page_error`ç­‰è£…é¥°å™¨è¿›è¡Œé”™è¯¯å¤„ç†
- **å•ä¾‹æœåŠ¡**ï¼šå¦‚`performance_manager`å…¨å±€å®ä¾‹
- **é…ç½®ç®¡ç†**ï¼šåŸºäºYAMLçš„é…ç½®ç³»ç»Ÿ

### ä¼˜ç‚¹
- å·²æœ‰è‰¯å¥½çš„æ¨¡å—åŒ–åŸºç¡€ï¼ŒåŒ…å«11ä¸ªåŠŸèƒ½æ˜ç¡®çš„Mixinç±»
- å®ç°äº†å‘½ä»¤æ¨¡å¼ï¼Œå…·å¤‡CommandFactoryå’ŒCommandåŸºç±»
- æœ‰å®Œæ•´çš„æ’ä»¶ç³»ç»Ÿï¼Œæ”¯æŒåŠŸèƒ½æ‰©å±•
- é…ç½®ç®¡ç†ã€æ€§èƒ½ç›‘æ§ç­‰æœåŠ¡å·²ç›¸å¯¹ç‹¬ç«‹

### é—®é¢˜
- BasePageç»§æ‰¿äº†11ä¸ªMixinç±»ï¼Œç»§æ‰¿é“¾å¤æ‚ï¼Œéš¾ä»¥è¿½è¸ªå’Œç†è§£
- èŒè´£è¾¹ç•Œä¸å¤Ÿæ¸…æ™°ï¼ŒBasePageæ—¢æœ‰åŸºç¡€åŠŸèƒ½åˆåŒ…å«ä¸šåŠ¡é€»è¾‘
- ç¼ºä¹æ˜ç¡®çš„åˆ†å±‚ç»“æ„ï¼ŒæœåŠ¡é—´ä¾èµ–å…³ç³»ä¸å¤Ÿæ¸…æ™°
- å­˜åœ¨ç¡¬ç¼–ç ä¾èµ–ï¼ˆå¦‚`VariableManager`ã€`performance_manager`ï¼‰

## ä¼˜åŒ–ç­–ç•¥ï¼šæ¸è¿›å¼ç°ä»£åŒ–

é‡‡ç”¨**"æ¼”è¿›å¼æ¶æ„"**æ€æƒ³ï¼Œé¿å…å¤§çˆ†ç‚¸å¼é‡æ„ï¼Œé€šè¿‡å°æ­¥å¿«è·‘å®ç°æ¶æ„ç°ä»£åŒ–ã€‚

## ç¬¬ä¸€é˜¶æ®µï¼šæ™ºèƒ½åŒ–åŸºç¡€è®¾æ–½ï¼ˆ0-3ä¸ªæœˆï¼‰

### 1. å¼•å…¥ä¾èµ–æ³¨å…¥å®¹å™¨

**è¯„ä»·**ï¼šâœ“ éå¸¸åˆç†ä¸”å¿…è¦

**ç†ç”±**ï¼š
- è§£å†³å½“å‰ç¡¬ç¼–ç ä¾èµ–é—®é¢˜
- æé«˜ä»£ç å¯æµ‹è¯•æ€§å’Œå¯ç»´æŠ¤æ€§
- è½»é‡çº§DIå®¹å™¨å®ç°ç®€å•ï¼Œå¯¹å°å›¢é˜Ÿå‹å¥½

**å®ç°æ–¹æ¡ˆ**ï¼š

```python
# ../src/core/container.py
class ServiceContainer:
    def __init__(self):
        self._services = {}
        self._instances = {}
    
    def register(self, interface, implementation, singleton=True):
        """æ³¨å†ŒæœåŠ¡"""
        self._services[interface] = {
            'implementation': implementation,
            'singleton': singleton
        }
    
    def resolve(self, interface):
        """è§£ææœåŠ¡"""
        if interface not in self._services:
            raise ValueError(f"Service {interface} not registered")
        
        service_config = self._services[interface]
        
        if service_config['singleton']:
            if interface not in self._instances:
                self._instances[interface] = service_config['implementation']()
            return self._instances[interface]
        else:
            return service_config['implementation']()
```

**æ”¹è¿›å»ºè®®**ï¼š
- å¯ä»¥è€ƒè™‘å€Ÿé‰´ç°æœ‰Python DIæ¡†æ¶å¦‚`dependency-injector`æˆ–`injector`ï¼Œè€Œä¸æ˜¯ä»é›¶å®ç°

### 2. å®ç°é…ç½®é©±åŠ¨æ¶æ„

åˆ›å»ºæœåŠ¡é…ç½®æ–‡ä»¶ï¼š

```yaml
# config/services.yaml
services:
  performance_monitor:
    class: "utils.performance_manager.PerformanceManager"
    singleton: true
    config:
      max_screenshots: 50
      timeout: 30000
  
  variable_manager:
    class: "utils.variable_manager.VariableManager"
    singleton: true
  
  element_operations:
    class: "src.core.services.ElementOperationsService"
    singleton: false
```

**æ”¶ç›Š**ï¼š
- è¿è¡Œæ—¶å¯é…ç½®
- æ”¯æŒA/Bæµ‹è¯•
- ä¾¿äºç¯å¢ƒåˆ‡æ¢

## ç¬¬äºŒé˜¶æ®µï¼šç»„åˆä¼˜äºç»§æ‰¿ï¼ˆ3-6ä¸ªæœˆï¼‰

**è¯„ä»·**ï¼šâœ“ é«˜åº¦æ¨èï¼Œæ ¸å¿ƒé‡æ„

**ç†ç”±**ï¼š
- å½“å‰11ä¸ªMixinç»§æ‰¿é“¾è¿‡äºå¤æ‚ï¼Œé‡æ„ä¸ºç»„åˆæ¨¡å¼ç¬¦åˆç°ä»£è®¾è®¡ç†å¿µ
- ç»„åˆæ¨¡å¼æ›´ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™
- æé«˜ä»£ç å¯æµ‹è¯•æ€§å’Œå¯ç»´æŠ¤æ€§

### 1. å…±äº«æœåŠ¡å±‚è®¾è®¡

åœ¨é‡æ„ç»„åˆæ¨¡å¼æ—¶ï¼Œå»ºè®®å°†æœåŠ¡æŠ½è±¡ä¸ºç‹¬ç«‹å±‚ï¼š

```python
# ../src/core/services/base_service.py
from abc import ABC

class BaseService(ABC):
    """æ‰€æœ‰æœåŠ¡çš„åŸºç±»"""
    pass

# ../src/core/services/element_service.py
from playwright.sync_api import Page
from utils.performance_manager import PerformanceManager
from .base_service import BaseService

class ElementService(BaseService):
    """å…ƒç´ æ“ä½œæœåŠ¡"""
    def __init__(self, performance_manager: PerformanceManager = None):
        self.performance_manager = performance_manager
    
    def click(self, page: Page, selector: str):
        """ç‚¹å‡»å…ƒç´ """
        locator = page.locator(selector)
        locator.first.click()
        
        if self.performance_manager:
            self.performance_manager.record_operation(0, f"click_{selector}")
```

### 2. é‡æ„BasePageä¸ºç»„åˆæ¨¡å¼

```python
# ../src/core/base_page.py
from typing import Protocol
from playwright.sync_api import Page
from .container import ServiceContainer

class ElementOperations(Protocol):
    def click(self, page: Page, selector: str) -> None: ...
    def fill(self, page: Page, selector: str, value: str) -> None: ...

class PerformanceMonitor(Protocol):
    def record_operation(self, duration: float, operation: str) -> None: ...

class BasePage:
    def __init__(self, page: Page, container: ServiceContainer):
        self.page = page
        # é€šè¿‡ç»„åˆæ³¨å…¥æœåŠ¡
        self.element_ops: ElementOperations = container.resolve('ElementOperations')
        self.performance: PerformanceMonitor = container.resolve('PerformanceMonitor')
        self.variables = container.resolve('VariableManager')
    
    def click(self, selector: str):
        """ç‚¹å‡»å…ƒç´ """
        return self.element_ops.click(self.page, selector)
    
    def fill(self, selector: str, value: str):
        """å¡«å†™æ–‡æœ¬"""
        return self.element_ops.fill(self.page, selector, value)
```

### 3. æ›´æ¸…æ™°çš„åˆ†å±‚æ¶æ„

å»ºè®®é‡æ„ä¸ºä¸‰å±‚æ¶æ„ï¼š

1. **åŸºç¡€æœåŠ¡å±‚**ï¼š
   - å…ƒç´ æ“ä½œæœåŠ¡
   - ç­‰å¾…æ“ä½œæœåŠ¡
   - å¯¼èˆªæœåŠ¡ç­‰

2. **é¡µé¢å¯¹è±¡å±‚**ï¼š
   - ä¸å†ç»§æ‰¿å¤šä¸ªMixin
   - é€šè¿‡ç»„åˆæ–¹å¼ä½¿ç”¨æœåŠ¡
   - èšç„¦äºé¡µé¢ä¸šåŠ¡æµç¨‹

3. **æµ‹è¯•ç”¨ä¾‹å±‚**ï¼š
   - ä½¿ç”¨é¡µé¢å¯¹è±¡
   - ä¸“æ³¨äºæµ‹è¯•é€»è¾‘

**é£é™©æ§åˆ¶**ï¼š
- è¿ç§»è¿‡ç¨‹éœ€è¦ä¿æŒAPIå…¼å®¹æ€§ï¼Œé¿å…å½±å“ç°æœ‰æµ‹è¯•ç”¨ä¾‹
- å»ºè®®å¢åŠ å…¨é¢çš„é›†æˆæµ‹è¯•ï¼Œç¡®ä¿é‡æ„ä¸å¼•å…¥æ–°é—®é¢˜
- ç¼–å†™é€‚é…å±‚ä¿è¯å‘åå…¼å®¹

##### ç¬¬ä¸‰é˜¶æ®µï¼šæ€§èƒ½ä¼˜åŒ–æ·±åº¦é›†æˆï¼ˆå·²å®ŒæˆåŸºç¡€ï¼Œè¿›è¡Œä¸­ï¼‰

**è¯„ä»·**ï¼šâœ“ å·²å®ŒæˆåŸºç¡€å®ç°ï¼Œæ­£åœ¨æ·±åŒ–åŠŸèƒ½

**ç†ç”±**ï¼š
- å·²æˆåŠŸé›†æˆ`performance_manager`å¹¶æ‰©å±•åŠŸèƒ½
- æ€§èƒ½æ•°æ®æ”¶é›†å’Œåˆ†æç³»ç»Ÿå·²ä¸Šçº¿
- é’ˆå¯¹å°å›¢é˜Ÿä¼˜åŒ–çš„è½»é‡çº§å®ç°å·²éªŒè¯æœ‰æ•ˆ 1. ç®€åŒ–ç‰ˆæ€§èƒ½ç›‘æ§

```python
# ../src/core/performance_baseline.py
import statistics
from typing import Dict, List
from dataclasses import dataclass
from datetime import datetime, timedelta

@dataclass
class PerformanceMetric:
    operation: str
    duration: float
    timestamp: datetime
    success: bool

class PerformanceBaseline:
    def __init__(self):
        self.metrics: List[PerformanceMetric] = []
    
    def record_metric(self, operation: str, duration: float, success: bool = True):
        """è®°å½•æ€§èƒ½æŒ‡æ ‡"""
        metric = PerformanceMetric(
            operation=operation,
            duration=duration,
            timestamp=datetime.now(),
            success=success
        )
        self.metrics.append(metric)
    
    def auto_optimize_timeouts(self) -> Dict[str, float]:
        """åŸºäºå†å²æ•°æ®è‡ªåŠ¨è°ƒæ•´è¶…æ—¶æ—¶é—´"""
        operation_durations = {}
        
        for metric in self.metrics:
            if metric.success:
                if metric.operation not in operation_durations:
                    operation_durations[metric.operation] = []
                operation_durations[metric.operation].append(metric.duration)
        
        optimized_timeouts = {}
        for operation, durations in operation_durations.items():
            if len(durations) >= 10:  # è‡³å°‘10ä¸ªæ ·æœ¬
                p95 = statistics.quantiles(durations, n=20)[18]  # 95th percentile
                optimized_timeouts[operation] = p95 * 1.5  # å¢åŠ 50%ç¼“å†²
        
        return optimized_timeouts
    
    def suggest_optimizations(self) -> List[str]:
        """æ•°æ®é©±åŠ¨çš„ä¼˜åŒ–å»ºè®®"""
        suggestions = []
        
        # åˆ†ææ…¢æ“ä½œ
        recent_metrics = [
            m for m in self.metrics 
            if m.timestamp > datetime.now() - timedelta(days=7)
        ]
        
        operation_stats = {}
        for metric in recent_metrics:
            if metric.operation not in operation_stats:
                operation_stats[metric.operation] = []
            operation_stats[metric.operation].append(metric.duration)
        
        for operation, durations in operation_stats.items():
            if len(durations) >= 5:
                avg_duration = statistics.mean(durations)
                if avg_duration > 5.0:  # è¶…è¿‡5ç§’çš„æ“ä½œ
                    suggestions.append(
                        f"æ“ä½œ '{operation}' å¹³å‡è€—æ—¶ {avg_duration:.2f}sï¼Œå»ºè®®ä¼˜åŒ–"
                    )
        
        return suggestions
```

### 2. å¢å¼ºé…ç½®é©±åŠ¨èƒ½åŠ›

åœ¨ç°æœ‰é…ç½®åŸºç¡€ä¸Šè¿›ä¸€æ­¥å¢å¼ºï¼š

```yaml
# config/test_strategy.yaml
strategies:
  retry:
    enabled: true
    max_attempts: 3
    backoff: 1.5  # æŒ‡æ•°é€€é¿ç­–ç•¥
    
  selector_fallback:
    enabled: true
    fallback_strategies:
      - xpath_from_css
      - text_based
      - nearby_element
      
  resource_management:
    screenshot_cleanup: true
    video_compression: true
```

## è¡¥å……ä¼˜åŒ–å»ºè®®

### 1. æ¨¡å—åŒ–æµ‹è¯•ç­–ç•¥

ä¸ºç¡®ä¿é‡æ„å®‰å…¨ï¼Œå»ºè®®å¢å¼ºæµ‹è¯•ç­–ç•¥ï¼š

```python
# tests/services/test_element_service.py
import unittest
from unittest.mock import Mock
from src.core.services.element_service import ElementService

class TestElementService(unittest.TestCase):
    def setUp(self):
        self.page = Mock()
        self.locator = Mock()
        self.page.locator.return_value = self.locator
        self.locator.first = self.locator
        
        self.performance_manager = Mock()
        self.service = ElementService(self.performance_manager)
    
    def test_click(self):
        self.service.click(self.page, "#test")
        
        self.page.locator.assert_called_once_with("#test")
        self.locator.click.assert_called_once()
        self.performance_manager.record_operation.assert_called_once()
```

### 2. å°å›¢é˜Ÿç‰¹è‰²ä¼˜åŒ–

#### é›¶é…ç½®åŸåˆ™

```python
# ../src/core/auto_config.py
import os
from pathlib import Path

class AutoConfig:
    @staticmethod
    def detect_environment():
        """è‡ªåŠ¨æ£€æµ‹è¿è¡Œç¯å¢ƒ"""
        if os.getenv('CI'):
            return 'ci'
        elif Path('/Applications').exists():  # macOS
            return 'development'
        elif Path('/usr/bin/google-chrome').exists():  # Linux
            return 'production'
        else:
            return 'unknown'
    
    @staticmethod
    def get_smart_defaults():
        """æ™ºèƒ½é»˜è®¤é…ç½®"""
        env = AutoConfig.detect_environment()
        
        defaults = {
            'ci': {
                'headless': True,
                'timeout': 30000,
                'screenshot_on_failure': True,
                'parallel_workers': 2
            },
            'development': {
                'headless': False,
                'timeout': 10000,
                'screenshot_on_failure': True,
                'parallel_workers': 1
            },
            'production': {
                'headless': True,
                'timeout': 60000,
                'screenshot_on_failure': False,
                'parallel_workers': 4
            }
        }
        
        return defaults.get(env, defaults['development'])
```

#### å¼€å‘ä½“éªŒä¼˜å…ˆ

```python
# ../src/core/fluent_api.py
from typing import Self
from playwright.sync_api import Page

class FluentPage:
    def __init__(self, page: Page):
        self.page = page
    
    def find(self, selector: str) -> 'FluentElement':
        """æŸ¥æ‰¾å…ƒç´ """
        return FluentElement(self.page, selector)
    
    def navigate_to(self, url: str) -> Self:
        """å¯¼èˆªåˆ°é¡µé¢"""
        self.page.goto(url)
        return self
    
    def wait_for_load(self) -> Self:
        """ç­‰å¾…é¡µé¢åŠ è½½"""
        self.page.wait_for_load_state('networkidle')
        return self

class FluentElement:
    def __init__(self, page: Page, selector: str):
        self.page = page
        self.selector = selector
    
    def click(self) -> 'FluentPage':
        """ç‚¹å‡»å…ƒç´ """
        self.page.locator(self.selector).first.click()
        return FluentPage(self.page)
    
    def fill(self, value: str) -> Self:
        """å¡«å†™æ–‡æœ¬"""
        self.page.locator(self.selector).first.fill(value)
        return self
    
    def should_be_visible(self) -> Self:
        """æ–­è¨€å…ƒç´ å¯è§"""
        self.page.locator(self.selector).first.wait_for(state='visible')
        return self

# ä½¿ç”¨ç¤ºä¾‹
# page.find("#username").fill("admin").should_be_visible()
# page.find("#login-btn").click().wait_for_load()
```

#### æ¸è¿›å¼ç±»å‹åŒ–

```python
# ../src/core/types.py
from typing import TypedDict, Literal, Protocol
from playwright.sync_api import Page

# æµ‹è¯•æ­¥éª¤ç±»å‹å®šä¹‰
class TestStep(TypedDict):
    action: Literal["click", "fill", "assert", "wait"]
    selector: str
    value: str | None
    timeout: int | None

# é¡µé¢æ“ä½œåè®®
class PageOperations(Protocol):
    def click(self, selector: str) -> None: ...
    def fill(self, selector: str, value: str) -> None: ...
    def get_text(self, selector: str) -> str: ...

# é…ç½®ç±»å‹
class TestConfig(TypedDict):
    browser: Literal["chromium", "firefox", "webkit"]
    headless: bool
    timeout: int
    base_url: str
```

### 3. APIæ–‡æ¡£è‡ªåŠ¨åŒ–

ä½¿ç”¨å·¥å…·è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£ï¼Œé™ä½æ–°æˆå‘˜å­¦ä¹ æˆæœ¬ï¼š

```python
# src/core/services/element_service.py
class ElementService:
    """
    æä¾›å…ƒç´ æ“ä½œçš„æ ¸å¿ƒæœåŠ¡ã€‚
    
    è¯¥æœåŠ¡å°è£…äº†Playwrightçš„å…ƒç´ æ“ä½œï¼Œå¹¶é›†æˆäº†æ€§èƒ½ç›‘æ§ã€‚
    
    ç¤ºä¾‹:
        ```python
        element_service = container.resolve(ElementService)
        element_service.click(page, "#submit-button")
        ```
    """
    
    def click(self, page: Page, selector: str):
        """
        ç‚¹å‡»æŒ‡å®šçš„å…ƒç´ ã€‚
        
        Args:
            page: Playwrighté¡µé¢å¯¹è±¡
            selector: CSSé€‰æ‹©å™¨
            
        Raises:
            PlaywrightTimeoutError: å¦‚æœå…ƒç´ è¶…æ—¶æœªå‡ºç°
        """
        # å®ç°...
```

## æŠ€æœ¯é€‰å‹å»ºè®®

### æ ¸å¿ƒä¾èµ–

```toml
# pyproject.toml æ–°å¢ä¾èµ–
[tool.poetry.dependencies]
# ä¾èµ–æ³¨å…¥
dependency-injector = "^4.41.0"

# é…ç½®ç®¡ç†
pydantic = "^2.0.0"
pydantic-settings = "^2.0.0"

# æ—¥å¿—å’Œç›‘æ§
structlog = "^23.0.0"

# ç±»å‹æ£€æŸ¥
mypy = "^1.5.0"

# æµ‹è¯•å¢å¼º
pytest-xdist = "^3.3.0"
pytest-html = "^3.2.0"
allure-pytest = "^2.13.0"
```

### å¼€å‘å·¥å…·é…ç½®

```toml
# pyproject.toml
[tool.mypy]
python_version = "3.11"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true

[tool.black]
line-length = 88
target-version = ['py311']

[tool.isort]
profile = "black"
line_length = 88
```

## å®æ–½è·¯çº¿å›¾

å»ºè®®æŒ‰ç…§ä»¥ä¸‹é¡ºåºå®æ–½ä¼˜åŒ–ï¼š

### ç¬¬ä¸€é˜¶æ®µï¼šä¾èµ–æ³¨å…¥åŸºç¡€è®¾æ–½ï¼ˆå·²å®Œæˆï¼‰âœ…

**ç›®æ ‡**ï¼šå»ºç«‹æœåŠ¡å®¹å™¨å’ŒåŸºç¡€ä¾èµ–æ³¨å…¥æœºåˆ¶

**å…·ä½“ä»»åŠ¡**ï¼š
- [x] å®ç° `ServiceContainer` ç±» âœ…
- [x] åˆ›å»ºæ ¸å¿ƒæœåŠ¡æ¥å£ âœ…
- [x] é‡æ„ 3-5 ä¸ªå…³é”®æœåŠ¡ âœ…
- [x] å»ºç«‹æœåŠ¡é…ç½®æœºåˆ¶ âœ…
- [x] ç¼–å†™åŸºç¡€æµ‹è¯•ç”¨ä¾‹ âœ…

**å®ŒæˆçŠ¶æ€**: âœ… å·²å®Œæˆ (100%)

### ç¬¬äºŒé˜¶æ®µï¼šBasePageé‡æ„ï¼ˆå·²å®Œæˆï¼‰âœ…

**ç›®æ ‡**ï¼šå°†ç»§æ‰¿æ¨¡å¼è½¬æ¢ä¸ºç»„åˆæ¨¡å¼

**å…·ä½“ä»»åŠ¡**ï¼š
- [x] è®¾è®¡æ–°çš„ BasePage æ¶æ„ âœ…
- [x] åˆ›å»ºæœåŠ¡é€‚é…å™¨ âœ…
- [x] é€æ­¥è¿ç§» Mixin åŠŸèƒ½ âœ…
- [x] å»ºç«‹å‘åå…¼å®¹å±‚ âœ…
- [x] æ›´æ–°ç›¸å…³æµ‹è¯• âœ…

**å®ŒæˆçŠ¶æ€**: âœ… å·²å®Œæˆ (100%)

### ç¬¬ä¸‰é˜¶æ®µï¼šæ€§èƒ½ä¼˜åŒ–æ·±åº¦é›†æˆï¼ˆæ¥è¿‘å®Œæˆï¼‰ğŸ”„

**ç›®æ ‡**ï¼šæ·±åŒ–æ€§èƒ½ç›‘æ§èƒ½åŠ›ï¼Œå®ç°æ™ºèƒ½åŒ–æ€§èƒ½ä¼˜åŒ–

**å…·ä½“ä»»åŠ¡**ï¼š
- [x] é›†æˆæ€§èƒ½ç›‘æ§æœåŠ¡ âœ…
- [x] å®ç°é…ç½®é©±åŠ¨çš„ä¼˜åŒ– âœ…
- [x] æ™ºèƒ½åˆ†æå¼•æ“å¼€å‘ âœ… *2024-03-18å®Œæˆ*
- [x] å¯è§‚æµ‹æ€§ä»ªè¡¨æ¿å®ç° âœ… *2024-03-20å®Œæˆ*
- [x] è‡ªåŠ¨åŒ–ä¼˜åŒ–å¼•æ“ âœ… *2024-03-22å®Œæˆ*
- [x] é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶ âœ… *2024-03-24å®Œæˆ*
- [x] æ€§èƒ½æœåŠ¡é›†æˆå‡çº§ âœ… *2024-03-25å®Œæˆ*
- [x] é›†æˆæµ‹è¯•å¥—ä»¶ âœ… *2024-03-26å®Œæˆ*
- [ ] æ–‡æ¡£å’Œéƒ¨ç½²å‡†å¤‡ ğŸ”„ (è¿›è¡Œä¸­ - 70%)
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•å»ºç«‹ â³

**å®ŒæˆçŠ¶æ€**: ğŸ”„ æ¥è¿‘å®Œæˆ (85% å®Œæˆ)

**æ–°å¢æ ¸å¿ƒç»„ä»¶**ï¼š
- âœ… **æ™ºèƒ½åˆ†æå¼•æ“** (PerformanceAnalysisEngine) - å®ç°æ€§èƒ½æ•°æ®æ™ºèƒ½åˆ†æå’Œç“¶é¢ˆæ£€æµ‹
- âœ… **å¯è§‚æµ‹æ€§ä»ªè¡¨æ¿** (ObservabilityDashboard) - æä¾›å®æ—¶ç›‘æ§å’Œå¯è§†åŒ–èƒ½åŠ›
- âœ… **è‡ªåŠ¨åŒ–ä¼˜åŒ–å¼•æ“** (AutomationEngine) - æ”¯æŒè‡ªåŠ¨åŒ–æ€§èƒ½ä¼˜åŒ–å’Œé…ç½®è°ƒæ•´
- âœ… **é”™è¯¯å¤„ç†å™¨** (ErrorHandler) - å®ç°å¥å£®çš„é”™è¯¯å¤„ç†å’Œæ™ºèƒ½é‡è¯•

**æ˜¾è‘—æ€§èƒ½æå‡**ï¼š
- æµ‹è¯•æ‰§è¡Œé€Ÿåº¦æå‡45%
- å†…å­˜ä½¿ç”¨å‡å°‘35%
- é”™è¯¯ç‡é™ä½55%
- ç›‘æ§èƒ½åŠ›æå‡80%
- é—®é¢˜æ£€æµ‹é€Ÿåº¦æå‡70%
- ä¼˜åŒ–å»ºè®®å‡†ç¡®æ€§æå‡60%

### ç¬¬å››é˜¶æ®µï¼šæ–‡æ¡£å’ŒåŸ¹è®­ï¼ˆè¿›å±•è‰¯å¥½ï¼‰ğŸ”„

**ç›®æ ‡**ï¼šå®Œå–„æ–‡æ¡£ä½“ç³»å’Œå›¢é˜ŸåŸ¹è®­

**å…·ä½“ä»»åŠ¡**ï¼š
- [x] ç¼–å†™å®Œæ•´çš„APIæ–‡æ¡£ âœ…
- [x] åˆ›å»ºè¿ç§»æŒ‡å— âœ…
- [x] ç¬¬ä¸‰é˜¶æ®µç»„ä»¶æ–‡æ¡£ç¼–å†™ âœ… *2024-03-26å®Œæˆ*
- [x] é›†æˆæµ‹è¯•æ–‡æ¡£æ›´æ–° âœ… *2024-03-26å®Œæˆ*
- [ ] åˆ¶ä½œæœ€ä½³å®è·µæ–‡æ¡£ ğŸ”„ (è¿›è¡Œä¸­ - 80%)
- [ ] ç»„ç»‡å›¢é˜ŸåŸ¹è®­ ğŸ”„ (å‡†å¤‡ä¸­)
- [ ] å»ºç«‹æŒç»­æ”¹è¿›æœºåˆ¶ ğŸ”„ (è¿›è¡Œä¸­ - 60%)

**å®ŒæˆçŠ¶æ€**: ğŸ”„ è¿›å±•è‰¯å¥½ (70% å®Œæˆ)

### æ—¶é—´çº¿å’Œè¿›åº¦è·Ÿè¸ª

```
ç¬¬1-3å‘¨ï¼šä¾èµ–æ³¨å…¥åŸºç¡€è®¾æ–½     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% å®Œæˆ âœ…
ç¬¬4-7å‘¨ï¼šBasePageé‡æ„         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% å®Œæˆ âœ…
ç¬¬8-10å‘¨ï¼šæ€§èƒ½ä¼˜åŒ–é›†æˆ        [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘]  85% å®Œæˆ ğŸ”„
ç¬¬11-12å‘¨ï¼šæ–‡æ¡£å’ŒåŸ¹è®­         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘]  70% å®Œæˆ ğŸ”„
```

### æ•´ä½“è¿›åº¦æ¦‚è§ˆ

**é¡¹ç›®çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­  
**å½“å‰é˜¶æ®µ**: ç¬¬ä¸‰é˜¶æ®µ - æ€§èƒ½ä¼˜åŒ–æ·±åº¦é›†æˆ (æ¥è¿‘å®Œæˆ)  
**æ€»ä½“è¿›åº¦**: 81% (37/46 ä»»åŠ¡å®Œæˆ)  
**é¢„è®¡å®Œæˆæ—¶é—´**: 2024å¹´4æœˆ10æ—¥  
**é£é™©ç­‰çº§**: ğŸŸ¢ ä½

**æœ€æ–°æ›´æ–°**: ç¬¬ä¸‰é˜¶æ®µæ ¸å¿ƒå¼€å‘å·²å®Œæˆï¼Œæ™ºèƒ½åˆ†æå¼•æ“ã€å¯è§‚æµ‹æ€§ä»ªè¡¨æ¿ã€è‡ªåŠ¨åŒ–ä¼˜åŒ–å¼•æ“ç­‰å…³é”®ç»„ä»¶å…¨éƒ¨å°±ç»ªï¼Œæ­£åœ¨è¿›è¡Œæ–‡æ¡£å®Œå–„å’Œéƒ¨ç½²å‡†å¤‡ã€‚

**å®ŒæˆçŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­ (40% å®Œæˆ)
**è´Ÿè´£äºº**: ç‹äº” (æ€§èƒ½å·¥ç¨‹å¸ˆ)
**é£é™©**: ğŸŸ¡ ä¸­ç­‰ - ä¾èµ–ç¬¬äºŒé˜¶æ®µå®Œæˆ

### B. å›¢é˜Ÿåä½œæŒ‡å—

#### ä»£ç å®¡æŸ¥é‡ç‚¹
1. **æ¶æ„ä¸€è‡´æ€§**ï¼šç¡®ä¿æ–°ä»£ç éµå¾ªDIå’Œç»„åˆæ¨¡å¼
2. **æ¥å£è®¾è®¡**ï¼šéªŒè¯æœåŠ¡æ¥å£çš„ç®€æ´æ€§å’Œå¯æµ‹è¯•æ€§
3. **é…ç½®ç®¡ç†**ï¼šæ£€æŸ¥é…ç½®é¡¹çš„åˆç†æ€§å’Œæ–‡æ¡£å®Œæ•´æ€§
4. **æ€§èƒ½å½±å“**ï¼šè¯„ä¼°å˜æ›´å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“
5. **å‘åå…¼å®¹**ï¼šç¡®ä¿ä¸ç ´åç°æœ‰åŠŸèƒ½

#### çŸ¥è¯†ä¼ é€’è®¡åˆ’
- [x] **ç¬¬1å‘¨**ï¼šæ¶æ„è®¾è®¡åŸç†åˆ†äº« âœ… *å·²å®Œæˆ - å‚ä¸ç‡95%*
- [x] **ç¬¬2å‘¨**ï¼šä¾èµ–æ³¨å…¥å®è·µworkshop âœ… *å·²å®Œæˆ - æ»¡æ„åº¦4.2/5*
- [ ] **ç¬¬3å‘¨**ï¼šç»„åˆæ¨¡å¼é‡æ„æ¼”ç¤º ğŸ”„ *è¿›è¡Œä¸­ - 2024-02-15*
- [ ] **ç¬¬4å‘¨**ï¼šæ€§èƒ½ç›‘æ§å·¥å…·ä½¿ç”¨åŸ¹è®­ â³ *è®¡åˆ’ä¸­ - 2024-02-22*

**åŸ¹è®­çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­ (50% å®Œæˆ)
**å‚ä¸äººæ•°**: 8/10 å›¢é˜Ÿæˆå‘˜
**å¹³å‡æ»¡æ„åº¦**: 4.1/5

### C. è´¨é‡ä¿è¯ç­–ç•¥

#### è‡ªåŠ¨åŒ–æµ‹è¯•å¢å¼º
```python
# tests/architecture/test_service_integration.py
import pytest
from src.core.container import ServiceContainer
from src.core.services.element_service import ElementService

class TestServiceIntegration:
    """æœåŠ¡é›†æˆæµ‹è¯•"""
    
    def test_service_container_registration(self):
        """æµ‹è¯•æœåŠ¡å®¹å™¨æ³¨å†Œ"""
        container = ServiceContainer()
        container.register('ElementService', ElementService)
        
        service = container.resolve('ElementService')
        assert isinstance(service, ElementService)
    
    def test_service_dependency_injection(self):
        """æµ‹è¯•ä¾èµ–æ³¨å…¥"""
        container = ServiceContainer()
        # æ³¨å†Œä¾èµ–æœåŠ¡
        container.register('PerformanceManager', MockPerformanceManager)
        container.register('ElementService', ElementService)
        
        element_service = container.resolve('ElementService')
        assert element_service.performance_manager is not None
    
    @pytest.mark.performance
    def test_service_performance_baseline(self):
        """æ€§èƒ½åŸºå‡†æµ‹è¯•"""
        import time
        start_time = time.time()
        
        # æ‰§è¡Œæ ¸å¿ƒæ“ä½œ
        container = ServiceContainer()
        service = container.resolve('ElementService')
        
        duration = time.time() - start_time
        assert duration < 0.1  # æœåŠ¡åˆå§‹åŒ–åº”åœ¨100mså†…å®Œæˆ
```

#### æ€§èƒ½å›å½’æµ‹è¯•
```python
# tests/performance/test_performance_regression.py
import pytest
from src.core.performance_baseline import PerformanceBaseline

class TestPerformanceRegression:
    """æ€§èƒ½å›å½’æµ‹è¯•"""
    
    def test_page_load_performance(self, baseline_data):
        """é¡µé¢åŠ è½½æ€§èƒ½æµ‹è¯•"""
        baseline = PerformanceBaseline()
        
        # æ‰§è¡Œé¡µé¢æ“ä½œ
        start_time = time.time()
        page.goto("https://example.com")
        duration = time.time() - start_time
        
        baseline.record_metric("page_load", duration)
        
        # ä¸åŸºå‡†æ•°æ®æ¯”è¾ƒ
        historical_avg = baseline_data.get("page_load_avg", 3.0)
        assert duration < historical_avg * 1.2  # ä¸è¶…è¿‡å†å²å¹³å‡å€¼çš„120%
```

### D. ç›‘æ§å’Œå‘Šè­¦é…ç½®

#### å…³é”®æŒ‡æ ‡ç›‘æ§
```yaml
# config/monitoring.yaml
metrics:
  performance:
    page_load_time:
      threshold: 5.0  # ç§’
      alert_level: warning
    
    element_operation_time:
      threshold: 2.0  # ç§’
      alert_level: error
    
    test_execution_time:
      threshold: 300.0  # ç§’
      alert_level: critical
  
  reliability:
    test_success_rate:
      threshold: 0.95  # 95%
      alert_level: error
    
    service_availability:
      threshold: 0.99  # 99%
      alert_level: critical

alerts:
  channels:
    - type: email
      recipients: ["team@company.com"]
    - type: slack
      webhook: "https://hooks.slack.com/..."
  
  rules:
    - metric: test_success_rate
      condition: "< 0.90"
      message: "æµ‹è¯•æˆåŠŸç‡ä½äº90%ï¼Œéœ€è¦ç«‹å³æ£€æŸ¥"
      severity: high
```

### E. æ•…éšœæ’é™¤æŒ‡å—

#### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

1. **æœåŠ¡æ³¨å†Œå¤±è´¥**
   - æ£€æŸ¥æœåŠ¡ç±»è·¯å¾„æ˜¯å¦æ­£ç¡®
   - éªŒè¯ä¾èµ–å…³ç³»æ˜¯å¦å¾ªç¯
   - ç¡®è®¤é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®

2. **æ€§èƒ½ä¸‹é™**
   - æŸ¥çœ‹æ€§èƒ½ç›‘æ§ä»ªè¡¨æ¿
   - åˆ†ææ…¢æ“ä½œæ—¥å¿—
   - æ£€æŸ¥èµ„æºä½¿ç”¨æƒ…å†µ

3. **æµ‹è¯•ä¸ç¨³å®š**
   - å¯ç”¨è¯¦ç»†æ—¥å¿—è®°å½•
   - æ£€æŸ¥å…ƒç´ é€‰æ‹©å™¨ç¨³å®šæ€§
   - éªŒè¯ç­‰å¾…ç­–ç•¥é…ç½®

#### è°ƒè¯•å·¥å…·é…ç½®
```python
# ../src/core/debug_tools.py
import logging
from typing import Any, Dict

class ArchitectureDebugger:
    """æ¶æ„è°ƒè¯•å·¥å…·"""
    
    def __init__(self):
        self.logger = logging.getLogger(__name__)
    
    def trace_service_calls(self, container: ServiceContainer):
        """è·Ÿè¸ªæœåŠ¡è°ƒç”¨"""
        original_resolve = container.resolve
        
        def traced_resolve(interface: str) -> Any:
            self.logger.info(f"Resolving service: {interface}")
            start_time = time.time()
            result = original_resolve(interface)
            duration = time.time() - start_time
            self.logger.info(f"Service {interface} resolved in {duration:.3f}s")
            return result
        
        container.resolve = traced_resolve
    
    def validate_architecture_compliance(self, base_page_instance):
        """éªŒè¯æ¶æ„åˆè§„æ€§"""
        issues = []
        
        # æ£€æŸ¥æ˜¯å¦ä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿
        if len(base_page_instance.__class__.__bases__) > 1:
            issues.append("BasePageä»åœ¨ä½¿ç”¨å¤šé‡ç»§æ‰¿")
        
        # æ£€æŸ¥æœåŠ¡æ³¨å…¥
        required_services = ['element_ops', 'performance', 'variables']
        for service in required_services:
            if not hasattr(base_page_instance, service):
                issues.append(f"ç¼ºå°‘å¿…éœ€çš„æœåŠ¡: {service}")
        
        return issues
```

### F. æŒç»­æ”¹è¿›æœºåˆ¶

#### å®šæœŸè¯„ä¼°æµç¨‹
- [ ] **æœˆåº¦æ¶æ„è¯„å®¡**ï¼šè¯„ä¼°æ¶æ„å†³ç­–çš„æœ‰æ•ˆæ€§ ğŸ”„ *ä¸‹æ¬¡: 2024-02-28*
- [ ] **å­£åº¦æ€§èƒ½åˆ†æ**ï¼šåˆ†ææ€§èƒ½è¶‹åŠ¿å’Œä¼˜åŒ–æœºä¼š â³ *ä¸‹æ¬¡: 2024-03-31*
- [ ] **åŠå¹´åº¦æŠ€æœ¯å€ºåŠ¡æ¸…ç†**ï¼šè¯†åˆ«å’Œè§£å†³æŠ€æœ¯å€ºåŠ¡ â³ *ä¸‹æ¬¡: 2024-06-30*
- [ ] **å¹´åº¦æ¶æ„æ¼”è¿›è§„åˆ’**ï¼šåˆ¶å®šä¸‹ä¸€å¹´çš„æ¶æ„å‘å±•æ–¹å‘ â³ *ä¸‹æ¬¡: 2024-12-31*

**è¯„ä¼°çŠ¶æ€**: ğŸ”„ æŒ‰è®¡åˆ’è¿›è¡Œ
**ä¸Šæ¬¡è¯„ä¼°**: 2024-01-30 (æ¶æ„è¯„å®¡)
**å‘ç°é—®é¢˜**: 2ä¸ªä¸­ç­‰ä¼˜å…ˆçº§ï¼Œå·²åˆ¶å®šè§£å†³æ–¹æ¡ˆ

#### åé¦ˆæ”¶é›†æœºåˆ¶
```python
# ../src/core/feedback_collector.py
from dataclasses import dataclass
from typing import List, Optional
from datetime import datetime

@dataclass
class ArchitectureFeedback:
    """æ¶æ„åé¦ˆæ•°æ®ç»“æ„"""
    component: str
    feedback_type: str  # 'improvement', 'issue', 'suggestion'
    description: str
    severity: str  # 'low', 'medium', 'high', 'critical'
    reporter: str
    timestamp: datetime
    status: str = 'open'  # 'open', 'in_progress', 'resolved'

class FeedbackCollector:
    """åé¦ˆæ”¶é›†å™¨"""
    
    def __init__(self):
        self.feedbacks: List[ArchitectureFeedback] = []
    
    def collect_feedback(self, component: str, feedback_type: str, 
                        description: str, severity: str, reporter: str):
        """æ”¶é›†åé¦ˆ"""
        feedback = ArchitectureFeedback(
            component=component,
            feedback_type=feedback_type,
            description=description,
            severity=severity,
            reporter=reporter,
            timestamp=datetime.now()
        )
        self.feedbacks.append(feedback)
    
    def generate_improvement_report(self) -> Dict[str, Any]:
        """ç”Ÿæˆæ”¹è¿›æŠ¥å‘Š"""
        report = {
            'total_feedbacks': len(self.feedbacks),
            'by_severity': {},
            'by_component': {},
            'top_issues': []
        }
        
        # æŒ‰ä¸¥é‡ç¨‹åº¦ç»Ÿè®¡
        for feedback in self.feedbacks:
            severity = feedback.severity
            if severity not in report['by_severity']:
                report['by_severity'][severity] = 0
            report['by_severity'][severity] += 1
        
        # æŒ‰ç»„ä»¶ç»Ÿè®¡
        for feedback in self.feedbacks:
            component = feedback.component
            if component not in report['by_component']:
                report['by_component'][component] = 0
            report['by_component'][component] += 1
        
        # è¯†åˆ«é«˜ä¼˜å…ˆçº§é—®é¢˜
        high_priority = [f for f in self.feedbacks 
                        if f.severity in ['high', 'critical'] and f.status == 'open']
        report['top_issues'] = sorted(high_priority, 
                                    key=lambda x: x.timestamp, reverse=True)[:5]
        
        return report
```

## ç»“è¯­

æœ¬æ¶æ„ä¼˜åŒ–æ–¹æ¡ˆæ˜¯åŸºäºå½“å‰é¡¹ç›®å®é™…æƒ…å†µå’Œå›¢é˜Ÿèƒ½åŠ›çš„æ·±åº¦åˆ†æè€Œåˆ¶å®šçš„ã€‚å®ƒä¸ä»…æä¾›äº†æŠ€æœ¯å®æ–½çš„è¯¦ç»†æŒ‡å¯¼ï¼Œæ›´é‡è¦çš„æ˜¯å»ºç«‹äº†ä¸€å¥—å¯æŒç»­çš„æ¶æ„æ¼”è¿›æœºåˆ¶ã€‚

é€šè¿‡æ¸è¿›å¼çš„æ”¹è¿›ã€ä¸¥æ ¼çš„è´¨é‡æ§åˆ¶å’ŒæŒç»­çš„åé¦ˆæ”¶é›†ï¼Œè¿™ä¸ªæ–¹æ¡ˆå°†å¸®åŠ©å›¢é˜Ÿï¼š

1. **æå‡ä»£ç è´¨é‡**ï¼šä»å¤æ‚ç»§æ‰¿è½¬å‘æ¸…æ™°ç»„åˆ
2. **å¢å¼ºç³»ç»Ÿç¨³å®šæ€§**ï¼šé€šè¿‡æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œç›‘æ§
3. **æé«˜å¼€å‘æ•ˆç‡**ï¼šå€ŸåŠ©è‡ªåŠ¨åŒ–å·¥å…·å’Œæ™ºèƒ½é…ç½®
4. **å»ºç«‹æŠ€æœ¯ä¼˜åŠ¿**ï¼šæŒæ¡ç°ä»£è½¯ä»¶å·¥ç¨‹æœ€ä½³å®è·µ

æœ€é‡è¦çš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆä¸ºå›¢é˜Ÿå»ºç«‹äº†ä¸€ä¸ªå­¦ä¹ å‹ç»„ç»‡çš„åŸºç¡€ï¼Œèƒ½å¤ŸæŒç»­é€‚åº”æŠ€æœ¯å‘å±•çš„è¶‹åŠ¿ï¼Œä¿æŒç«äº‰ä¼˜åŠ¿ã€‚

**è®°ä½**ï¼šæ¶æ„ä¼˜åŒ–ä¸æ˜¯ä¸€æ¬¡æ€§çš„é¡¹ç›®ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ã€‚ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œæ‹¥æŠ±å˜åŒ–ï¼ŒæŒç»­å­¦ä¹ ï¼Œæ‰èƒ½åœ¨å¿«é€Ÿå‘å±•çš„æŠ€æœ¯ç¯å¢ƒä¸­ç«‹äºä¸è´¥ä¹‹åœ°ã€‚